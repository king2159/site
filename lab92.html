<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Display and Balloon Animation</title>
    <style>
        @keyframes fly {
            from { height:700px; }
            to { height:0px; }
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            margin: 20px;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }
        .balloon {
            position: absolute;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <pre>
&lt;style&gt;
@keyframes fly {
    from { height:700px; }
    to { height:0px; }
}
&lt;/style&gt;

&lt;script&gt;
function Balloon(id, color1, diameter, speed) {
    this.color = color1;
    this.diameter = diameter;
    this.speed = speed;
    this.id = id;

    this.make = function() {
        let dv = document.createElement('div');
        dv.id = id;
        dv.style.cssText = 'width:' + this.diameter + 'px; height:' + this.diameter + 'px; border-radius:' + (diameter/2) + 'px; background-color:' + this.color + '; position:absolute; left:' + (id*50) + 'px; top:700px';
        document.body.appendChild(dv);
    }

    this.rise = function() {
        let dv = document.getElementById('d' + this.id);
        dv.style.animationName = "fly";
        dv.style.animationDuration = ~~(700/this.speed) + 's';
    }
}

let b = new Balloon(1, 'red', 200, 1);
b.make();
b.rise();
&lt;/script&gt;
    </pre>

    <script>
        function Balloon(id, color1, diameter, speed) {
            this.color = color1;
            this.diameter = diameter;
            this.speed = speed;
            this.id = id;

            this.make = function() {
                let dv = document.createElement('div');
                dv.id = id;
                dv.style.cssText = 'width:' + this.diameter + 'px; height:' + this.diameter + 'px; border-radius:' + (diameter/2) + 'px; background-color:' + this.color + '; position:absolute; left:' + (id % 2000 * 50) + 'px; top:' + Math.floor(id / 2000) * 700 + 'px';
                document.body.appendChild(dv);
            }

            this.rise = function() {
                let dv = document.getElementById('d' + this.id);
                dv.style.animationName = "fly";
                dv.style.animationDuration = ~~(700/this.speed) + 's';
            }
        }

        // 创建10万个气球
        for(let i = 0; i < 100000; i++) {
            let color = `rgb(${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)})`;
            let balloon = new Balloon(i, color, 50, 1);
            balloon.make();
            setTimeout(() => {
                balloon.rise();
            }, 100);
        }
    </script>
</body>
</html>
